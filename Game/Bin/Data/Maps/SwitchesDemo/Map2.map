type = GameMap
uin = 2
classPrompt = GameMap
gameMusic = "Sounds\\Music\\Game.ogg"
ambientLight = 0.2 0.2 0.2
editorCameraPosition = 24.19755 -30.31592 12.156
editorCameraDirection = 3.00004 -0.82148
shadowColor = 1 1 1
shadowFarDistance = 100
shadowPSSMSplitFactors = 0.2 0.5
logicSystemManager = 21
name = GameMap_0
shadowTechnique = ShadowmapMedium
rootEditorLayer
{
	layer
	{
		name = StaticGeometry
		allowEdit = False
	}
}
entity
{
	type = GasFlamePipe
	uin = 3
	classPrompt = PhysicalStream
	relationships = 36
	alternativeMode = False
	throttle = 0
	position = -1.341118 -3.43064 0.4506167
	rotation = 0 -0.7071068 0 0.7071068
	name = GasFlamePipe_3
}
entity
{
	type = GasFlamePipe
	uin = 4
	classPrompt = PhysicalStream
	relationships = 48
	alternativeMode = False
	throttle = 0
	position = -4.869007 3.429121 0.4506167
	rotation = 0 -0.7071068 0 0.7071068
	name = GasFlamePipe_2
}
entity
{
	type = GasFlamePipe
	uin = 5
	classPrompt = PhysicalStream
	relationships = 44
	alternativeMode = False
	throttle = 0
	position = 2.619219 3.414407 0.4506167
	rotation = 0 -0.7071068 0 0.7071068
	name = GasFlamePipe_1
}
entity
{
	type = GasFlamePipe
	uin = 6
	classPrompt = PhysicalStream
	relationships = 40
	alternativeMode = False
	throttle = 0
	position = 9.785231 -0.7081792 0.4506167
	rotation = 0 -0.7071068 0 0.7071068
	name = GasFlamePipe_0
}
entity
{
	type = BooleanSwitch
	uin = 7
	classPrompt = BooleanSwitch
	relationships = 23
	value = False
	position = 14.89835 -34.70052 1.267412
	rotation = 0 0 -0.02692041 0.9996376
	name = BooleanSwitch_GasFlame
	logicClass = 23
}
entity
{
	type = PipeLeak
	uin = 8
	classPrompt = PhysicalStream
	relationships = 67 88
	alternativeMode = False
	throttle = 0
	position = 20.62925 -27.99348 0.6991192
	rotation = 0 0 0.9314077 0.3639777
	scale = 1 4.825692 1
	name = PipeLeak_3
}
entity
{
	type = PipeLeak
	uin = 9
	classPrompt = PhysicalStream
	relationships = 63 83
	alternativeMode = False
	throttle = 0
	position = 14.6771 -30.58635 0.5989982
	rotation = 0 0 0.008048296 -0.9999677
	scale = 4.557497 1 1
	name = s
}
entity
{
	type = PipeLeak
	uin = 10
	classPrompt = PhysicalStream
	relationships = 52 73
	alternativeMode = False
	throttle = 0
	position = 20.48516 -29.95315 0.5989982
	rotation = 0 0 0.3743644 -0.9272817
	name = PipeLeak_0
}
entity
{
	type = PipeSwitch
	uin = 11
	classPrompt = TurnFloatSwitch
	relationships = 71
	value = 0
	position = 14.21476 -35.37884 1.351785
	rotation = 0.5 -0.5 0.5 -0.5
	name = PipeSwitch_Gas
	logicClass = 71
}
entity
{
	type = Door
	uin = 12
	classPrompt = AutomaticOpenDoor
	noAutomaticOpen = True
	opened = False
	needOpen = False
	openDoorOffsetCoefficient = 0
	position = 17.58513 -36.38088 0.2063458
	name = Door_1
}
entity
{
	type = Door
	uin = 13
	classPrompt = AutomaticOpenDoor
	noAutomaticOpen = False
	opened = False
	needOpen = False
	openDoorOffsetCoefficient = 0
	position = 17.61415 -20.05266 0.2205143
	name = Door_0
}
entity
{
	type = Terminal
	uin = 14
	classPrompt = Terminal
	relationships = 93
	initialControl = "Gui\\SwitchesDemoTerminal.gui"
	position = 13.98495 4.590276 1.753296
	rotation = 0 0 -0.3191328 0.94771
	name = Terminal_0
	logicClass = 93
}
entity
{
	type = Light
	uin = 15
	classPrompt = Light
	lightType = Spot
	diffuseColor = 0.007843138 0.454902 1
	diffusePower = 1
	specularColor = 1.372549 1.372549 1.392157
	specularPower = 1
	attenuationNear = 40
	attenuationFar = 50
	attenuationPower = 1
	ffpAttenuationConstant = 1
	ffpAttenuationLinear = 0
	ffpAttenuationQuadric = 0
	spotlightInnerAngle = 80
	spotlightOuterAngle = 120
	spotlightFalloff = 1
	castShadows = True
	allowStaticLighting = False
	allowDynamicLighting = True
	customShaderParameter = 0 0 0 0
	position = 7.38212 0 22
	rotation = 0 -0.7071068 0 -0.7071068
	name = Light_0
}
entity
{
	type = SpawnPoint
	uin = 16
	classPrompt = SpawnPoint
	defaultPoint = True
	position = 17.57561 -35.7991 0.2202166
	rotation = 0 0 -0.7071068 -0.7071068
	name = SpawnPoint_0
}
entity
{
	type = PipeDirect4
	uin = 17
	classPrompt = MapObject
	position = 7.838803 -10.25395 0.4718971
	rotation = 0 0 0.6989877 -0.7151337
	name = PipeDirect4_6
}
entity
{
	type = PipeDirect4
	uin = 18
	classPrompt = MapObject
	position = 7.736821 -6.461271 0.5
	rotation = 0 0 -0.6898826 0.7239214
	name = PipeDirect4_7
}
entity
{
	type = PipeDirect4
	uin = 19
	classPrompt = MapObject
	position = 12.5 -7.5 0.5
	rotation = 0 0 -0.7071068 0.7071068
	name = PipeDirect4_16
}
entity
{
	type = PipeLeak
	uin = 20
	classPrompt = PhysicalStream
	relationships = 59 78
	alternativeMode = False
	throttle = 0
	position = 14.83851 -28.30953 0.7961
	rotation = 0 0 0.3816788 0.9242951
	name = PipeLeak_1
}
entity
{
	type = LogicSystemManager
	uin = 21
	mapClassManager = 22
	entity
	{
		type = LogicClassManager
		uin = 22
		entity
		{
			type = LogicEntityClass
			uin = 23
			relationships = 7
			entityClassName = BooleanSwitch
			className = BooleanSwitch_GasFlame
			customScriptCodeCreated = False
			entity
			{
				type = LogicDesignerMethod
				uin = 24
				actions = 56 25 28 40 44 48 36 52 59 63 67
				methodName = ValueChange
				returnType = System.Void
				parameters = 
				isEntityEventMethod = True
				entity
				{
					type = LogicDeclareLocalVariableAction
					uin = 25
					variableTypeName = Single
					variableName = throttle
					valueAction = 26
					entity
					{
						type = LogicGetConstantValueAction
						uin = 26
						valueType = System.Single
						value = 0
					}
					entity
					{
						type = LogicGetConstantValueAction
						uin = 27
						valueType = System.Single
						value = 0
					}
				}
				entity
				{
					type = LogicIfThenElseAction
					uin = 28
					conditionAction = 35
					trueActions = 29
					falseActions = 
					entity
					{
						type = LogicGetVariableAction
						uin = 29
						variableName = throttle
						dotPathAction = 30
						entity
						{
							type = LogicAssignVariableAction
							uin = 30
							valueAction = 31
							entity
							{
								type = LogicGetConstantValueAction
								uin = 31
								valueType = System.Single
								value = 1
							}
						}
						entity
						{
							type = LogicAssignVariableAction
							uin = 32
							valueAction = 33
							entity
							{
								type = LogicGetConstantValueAction
								uin = 33
								valueType = System.Single
								value = 1
							}
							entity
							{
								type = LogicGetConstantValueAction
								uin = 34
								valueType = System.Single
								value = 1
							}
						}
					}
					entity
					{
						type = LogicGetVariableAction
						uin = 35
						variableName = enabled
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 36
					relationships = 3
					entity = 3
					dotPathAction = 37
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 37
						propertyName = Throttle
						dotPathAction = 38
						entity
						{
							type = LogicAssignPropertyAction
							uin = 38
							valueAction = 39
							entity
							{
								type = LogicGetVariableAction
								uin = 39
								variableName = throttle
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 40
					relationships = 6
					entity = 6
					dotPathAction = 41
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 41
						propertyName = Throttle
						dotPathAction = 42
						entity
						{
							type = LogicAssignPropertyAction
							uin = 42
							valueAction = 43
							entity
							{
								type = LogicGetVariableAction
								uin = 43
								variableName = throttle
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 44
					relationships = 5
					entity = 5
					dotPathAction = 45
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 45
						propertyName = Throttle
						dotPathAction = 46
						entity
						{
							type = LogicAssignPropertyAction
							uin = 46
							valueAction = 47
							entity
							{
								type = LogicGetVariableAction
								uin = 47
								variableName = throttle
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 48
					relationships = 4
					entity = 4
					dotPathAction = 49
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 49
						propertyName = Throttle
						dotPathAction = 50
						entity
						{
							type = LogicAssignPropertyAction
							uin = 50
							valueAction = 51
							entity
							{
								type = LogicGetVariableAction
								uin = 51
								variableName = throttle
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 52
					relationships = 10
					entity = 10
					dotPathAction = 53
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 53
						propertyName = AlternativeMode
						dotPathAction = 54
						entity
						{
							type = LogicAssignPropertyAction
							uin = 54
							valueAction = 55
							entity
							{
								type = LogicGetVariableAction
								uin = 55
								variableName = enabled
							}
						}
					}
				}
				entity
				{
					type = LogicDeclareLocalVariableAction
					uin = 56
					variableTypeName = Boolean
					variableName = enabled
					valueAction = 57
					entity
					{
						type = LogicCallThisMethodAction
						uin = 57
						entityOwnerProperty = True
						dotPathAction = 58
						entity
						{
							type = LogicCallNonStaticMethodAction
							uin = 58
							propertyName = Value
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 59
					relationships = 20
					entity = 20
					dotPathAction = 60
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 60
						propertyName = AlternativeMode
						dotPathAction = 61
						entity
						{
							type = LogicAssignPropertyAction
							uin = 61
							valueAction = 62
							entity
							{
								type = LogicGetVariableAction
								uin = 62
								variableName = enabled
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 63
					relationships = 9
					entity = 9
					dotPathAction = 64
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 64
						propertyName = AlternativeMode
						dotPathAction = 65
						entity
						{
							type = LogicAssignPropertyAction
							uin = 65
							valueAction = 66
							entity
							{
								type = LogicGetVariableAction
								uin = 66
								variableName = enabled
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 67
					relationships = 8
					entity = 8
					dotPathAction = 68
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 68
						propertyName = AlternativeMode
						dotPathAction = 69
						entity
						{
							type = LogicAssignPropertyAction
							uin = 69
							valueAction = 70
							entity
							{
								type = LogicGetVariableAction
								uin = 70
								variableName = enabled
							}
						}
					}
				}
			}
		}
		entity
		{
			type = LogicEntityClass
			uin = 71
			relationships = 11
			entityClassName = TurnFloatSwitch
			className = PipeSwitch_Gas
			customScriptCodeCreated = False
			entity
			{
				type = LogicDesignerMethod
				uin = 72
				actions = 73 78 83 88
				methodName = ValueChange
				returnType = System.Void
				parameters = 
				isEntityEventMethod = True
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 73
					relationships = 10
					entity = 10
					dotPathAction = 74
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 74
						propertyName = Throttle
						dotPathAction = 75
						entity
						{
							type = LogicAssignPropertyAction
							uin = 75
							valueAction = 76
							entity
							{
								type = LogicCallThisMethodAction
								uin = 76
								entityOwnerProperty = True
								dotPathAction = 77
								entity
								{
									type = LogicCallNonStaticMethodAction
									uin = 77
									propertyName = Value
								}
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 78
					relationships = 20
					entity = 20
					dotPathAction = 79
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 79
						propertyName = Throttle
						dotPathAction = 80
						entity
						{
							type = LogicAssignPropertyAction
							uin = 80
							valueAction = 81
							entity
							{
								type = LogicCallThisMethodAction
								uin = 81
								entityOwnerProperty = True
								dotPathAction = 82
								entity
								{
									type = LogicCallNonStaticMethodAction
									uin = 82
									propertyName = Value
								}
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 83
					relationships = 9
					entity = 9
					dotPathAction = 84
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 84
						propertyName = Throttle
						dotPathAction = 85
						entity
						{
							type = LogicAssignPropertyAction
							uin = 85
							valueAction = 86
							entity
							{
								type = LogicCallThisMethodAction
								uin = 86
								entityOwnerProperty = True
								dotPathAction = 87
								entity
								{
									type = LogicCallNonStaticMethodAction
									uin = 87
									propertyName = Value
								}
							}
						}
					}
				}
				entity
				{
					type = LogicCallGetEntityMethodAction
					uin = 88
					relationships = 8
					entity = 8
					dotPathAction = 89
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 89
						propertyName = Throttle
						dotPathAction = 90
						entity
						{
							type = LogicAssignPropertyAction
							uin = 90
							valueAction = 91
							entity
							{
								type = LogicCallThisMethodAction
								uin = 91
								entityOwnerProperty = True
								dotPathAction = 92
								entity
								{
									type = LogicCallNonStaticMethodAction
									uin = 92
									propertyName = Value
								}
							}
						}
					}
				}
			}
		}
		entity
		{
			type = LogicEntityClass
			uin = 93
			relationships = 14
			entityClassName = GameGuiObject
			className = Terminal_0
			customScriptCodeCreated = False
			entity
			{
				type = LogicScriptMethod
				uin = 94
				code = "foreach( Entity entity in Map.Instance.Children )\r\n{\r\n\tstring str = entity.UserData as string;\r\n\tif( str != null && str == \"AllowClear\" )\r\n\t{\r\n\t\tentity.SetDeleted();\r\n\t\tcontinue;\r\n\t}\r\n\r\n\tif( ( entity as Corpse ) != null )\r\n\t\tentity.SetDeleted();\r\n}\r\n"
				methodName = clear_Click
				returnType = System.Void
				parameters = 95
				isEntityEventMethod = False
				entity
				{
					type = LogicParameter
					uin = 95
					parameterType = Engine.UISystem.Button
					parameterName = sender
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 96
				code = "EntityType type = EntityTypes.Instance.GetByName( \"Zombie\" );\r\n\r\nfor( float y = -2; y <= 3; y += 2 )\r\n{\r\n\tbool positionFound = false;\r\n\tVec3 position = Vec3.Zero;\r\n\r\n\t//put unit to free area\r\n\tfor( float x = -12; x >= -20; x-- )\r\n\t{\r\n\t\tVec3 pos = new Vec3( x, y, 1.2f );\r\n\t\tBounds bounds = new Bounds(pos - new Vec3(1,1,1), pos + new Vec3(1,1,1));\r\n\t\tbool free = true;\r\n\t\tMap.Instance.GetObjects( bounds, delegate( MapObject o )\r\n\t\t{\r\n\t\t\tif( o.PhysicsModel != null )\r\n\t\t\t\tfree = false;\r\n\t\t} );\r\n\r\n\t\tif( free )\r\n\t\t{\r\n\t\t\tpositionFound = true;\r\n\t\t\tposition = pos;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif(positionFound)\r\n\t{\r\n\t\tUnit obj = (Unit)Entities.Instance.Create( type, Map.Instance );\r\n\t\tobj.UserData = \"AllowClear\";\r\n\t\tobj.Position = position;\r\n\t\tobj.PostCreate();\r\n\t}\r\n}\r\n"
				methodName = createZombie_Click
				returnType = System.Void
				parameters = 97
				isEntityEventMethod = False
				entity
				{
					type = LogicParameter
					uin = 97
					parameterType = Engine.UISystem.Button
					parameterName = sender
				}
			}
			entity
			{
				type = LogicDesignerMethod
				uin = 98
				actions = 100 107
				methodName = PostCreated
				returnType = System.Void
				parameters = 99
				isEntityEventMethod = True
				entity
				{
					type = LogicParameter
					uin = 99
					parameterType = System.Boolean
					parameterName = loaded
				}
				entity
				{
					type = LogicCallThisMethodAction
					uin = 100
					entityOwnerProperty = True
					dotPathAction = 101
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 101
						propertyName = MainControl
						dotPathAction = 102
						entity
						{
							type = LogicCallNonStaticMethodAction
							uin = 102
							propertyName = Controls
							dotPathAction = 103
							entity
							{
								type = LogicCallNonStaticMethodAction
								uin = 103
								propertyName = Item
								parameterActions = 104
								dotPathAction = 105
								parameterTypeNames
								{
									item
									{
										value = String
									}
								}
								entity
								{
									type = LogicGetConstantValueAction
									uin = 104
									valueType = System.String
									value = CreateZombie
								}
								entity
								{
									type = LogicCallAsIsMethodAction
									uin = 105
									asCast = True
									castTypeName = Button
									dotPathAction = 106
									entity
									{
										type = LogicEventAction
										uin = 106
										eventName = Click
										methodName = createZombie_Click
									}
								}
							}
						}
					}
				}
				entity
				{
					type = LogicCallThisMethodAction
					uin = 107
					entityOwnerProperty = True
					dotPathAction = 108
					entity
					{
						type = LogicCallNonStaticMethodAction
						uin = 108
						propertyName = MainControl
						dotPathAction = 109
						entity
						{
							type = LogicCallNonStaticMethodAction
							uin = 109
							propertyName = Controls
							dotPathAction = 110
							entity
							{
								type = LogicCallNonStaticMethodAction
								uin = 110
								propertyName = Item
								parameterActions = 111
								dotPathAction = 112
								parameterTypeNames
								{
									item
									{
										value = String
									}
								}
								entity
								{
									type = LogicGetConstantValueAction
									uin = 111
									valueType = System.String
									value = Clear
								}
								entity
								{
									type = LogicCallAsIsMethodAction
									uin = 112
									asCast = True
									castTypeName = Button
									dotPathAction = 113
									entity
									{
										type = LogicEventAction
										uin = 113
										eventName = Click
										methodName = clear_Click
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
entity
{
	type = PipeCorner
	uin = 114
	classPrompt = MapObject
	position = 7.632218 -3.973029 0.5
	rotation = -0.7070574 -0.008363173 0.008363173 0.7070574
	name = PipeCorner_0
}
entity
{
	type = PipeCorner
	uin = 115
	classPrompt = MapObject
	position = 12.5 -4 0.5
	rotation = 3.090862E-08 -0.7071068 -0.7071068 -3.090862E-08
	name = PipeCorner_1
}
entity
{
	type = PipeDirect4
	uin = 116
	classPrompt = MapObject
	position = 12.5 -11.5 0.5
	rotation = 0 0 -0.7071068 0.7071068
	name = PipeDirect4_18
}
entity
{
	type = PipeDirect4
	uin = 117
	classPrompt = MapObject
	position = 12.5 -15.5 0.5
	rotation = 0 0 -0.7071068 0.7071068
	name = PipeDirect4_19
}
entity
{
	type = PipeDirect4
	uin = 118
	classPrompt = MapObject
	position = 12.5 -19.5 0.5
	rotation = 0 0 -0.7071068 0.7071068
	name = PipeDirect4_20
}
entity
{
	type = PipeDirect4
	uin = 119
	classPrompt = MapObject
	position = 10.09918 -4 0.5
	name = PipeDirect4_24
}
entity
{
	type = PipeDirect4
	uin = 120
	classPrompt = MapObject
	position = 7.910409 -14.14204 0.5
	rotation = 0 0 -0.7131844 -0.7009766
	name = PipeDirect4_25
}
entity
{
	type = StaticMesh
	uin = 121
	classPrompt = StaticMesh
	position = 0 0 0
	editorLayer = "Root Layer\\StaticGeometry"
	meshName = "Models\\Rooms\\Rooms.mesh"
	splitGeometry = True
	splitGeometryPieceSize = 30 30 30
	allowDecals = All
	castDynamicShadows = True
}
entity
{
	type = JumpPad
	uin = 122
	classPrompt = JumpPad
	force = 10
	position = 13.67442 -4.820266 0.04683051
	rotation = -0.0288101 -0.6952316 -0.0279095 0.7176657
	name = JumpPad_0
}
entity
{
	type = GasFlamePipe
	uin = 123
	classPrompt = PhysicalStream
	alternativeMode = False
	throttle = 0
	position = -14.63512 -17.09337 0.1093005
	name = GasFlamePipe_4
}
entity
{
	type = ExplosionBarrel
	uin = 124
	classPrompt = Dynamic
	position = -16.38112 -12.12668 0.8250427
	name = ExplosionBarrel_0
}
entity
{
	type = Box
	uin = 127
	classPrompt = Dynamic
	position = 18.2062 -30.00283 0.7214872
	name = Box_0
}
entity
{
	type = Box
	uin = 128
	classPrompt = Dynamic
	position = 18.18117 -27.90095 0.7212955
	name = Box_1
}
entity
{
	type = Box
	uin = 129
	classPrompt = Dynamic
	position = 15.93933 -28.96134 0.7171317
	name = Box_2
}
entity
{
	type = Box
	uin = 130
	classPrompt = Dynamic
	position = 19.8278 -28.90596 0.7178755
	name = Box_3
}
